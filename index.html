<!DOCTYPE html>
<html lang="tl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year</title>

<style>
*{box-sizing:border-box}
html,body{
  margin:0;
  font-family:Arial,sans-serif;
  background:black;
  color:white;
  overflow-x:hidden;
}

/* INTRO */
#intro{
  position:fixed;
  inset:0;
  background:black;
  z-index:999;
  display:flex;
  align-items:center;
  justify-content:center;
}
.slide{
  position:absolute;
  width:100%;
  text-align:center;
  opacity:0;
  transform:translateX(40px);
  transition:1s;
}
.slide.active{opacity:1;transform:translateX(0)}
.slide.fade-out{opacity:0;transform:translateX(-40px)}
.slide img{
  width:min(85vw,300px);
  border-radius:15px;
}

/* FIREWORKS */
canvas{
  position:fixed;
  inset:0;
  z-index:1;
  pointer-events:none;
}

/* LOBBY */
.lobby{
  position:relative;
  z-index:2;
  min-height:100vh;
  padding:30px 15px 80px;
  text-align:center;
}
h1{animation:glow 2s infinite alternate}
@keyframes glow{
  from{text-shadow:0 0 10px #ff4d6d}
  to{text-shadow:0 0 25px #ffd166}
}
input,button{
  padding:12px;
  border-radius:6px;
  border:none;
  margin-top:10px;
  font-size:16px;
}
button{background:#ff4d6d;color:white}

/* MESSAGE BOX */
#messageBox{
  display:none;
  background:white;
  color:#333;
  margin:30px auto 0;
  padding:25px;
  border-radius:15px;
  width:min(95%,480px);
  max-height:60vh;
  overflow-y:auto;
  animation:pop .8s;
}
@keyframes pop{
  from{opacity:0;transform:scale(.9)}
  to{opacity:1;transform:scale(1)}
}

/* IMAGE POPUP */
#imagePopup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#imagePopup img{
  width:min(80vw,320px);
  border-radius:20px;
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
  <div class="slide active"><img src="cx.jpg"><h2>Memories Together</h2></div>
  <div class="slide"><img src="AA.jpg"><h2>Moments We Shared</h2></div>
  <div class="slide"><img src="a.jpg"><h2>Forever This Circle</h2></div>
</div>

<canvas id="fireworks"></canvas>

<div class="lobby">
  <h1>Happy New Year</h1>
  <p>Type your name and enter to see your special message</p>
  <input id="nameInput" placeholder="name">
  <br>
  <button onclick="showMessage()">Enter</button>

  <div id="messageBox">
    <h2 id="title"></h2>
    <p id="message"></p>
  </div>
</div>

<div id="imagePopup">
  <img id="popupImg">
</div>

<script>
/* DOM */
const nameInput=document.getElementById("nameInput");
const popupImg=document.getElementById("popupImg");
const imagePopup=document.getElementById("imagePopup");
const title=document.getElementById("title");
const message=document.getElementById("message");
const messageBox=document.getElementById("messageBox");

/* INTRO SLIDES */
const slides=document.querySelectorAll(".slide");
let i=0;
setInterval(()=>{
  slides[i].classList.remove("active");
  slides[i].classList.add("fade-out");
  i++;
  if(i>=slides.length){
    document.getElementById("intro").style.display="none";
    return;
  }
  slides[i].classList.add("active");
},3000);

/* MESSAGES — HINDI GINALAW */
const messages = /* EXACT SAME MESSAGES MO — HINDI KO GINALAW */ window.messages || {};

/* IMAGES — AYOS NA */
const images={
  nicol:"nicol.jpg",
  dani:"dani.jpg",
  justin:"justin.jpg",
  jedrick:"jedrick.jpg",
  cyram:"cyram.jpg",
  mharkie:"mharkie.jpg",
  kyla:"kyla.jpg",
  eugene:"eugene.jpg",
  eila:"eila.jpg",
  ashley:"ashley.jpg",
  angel:"angel.jpg"
};

function showMessage(){
  const name=nameInput.value.trim().toLowerCase();
  if(!name) return alert("Maglagay ng pangalan");

  if(images[name]){
    popupImg.src=images[name];
    popupImg.onerror=()=>{ imagePopup.style.display="none"; };
    imagePopup.style.display="flex";
  }

  setTimeout(()=>{
    imagePopup.style.display="none";
    title.innerText="Para kay "+name.toUpperCase();
    message.innerText=messages[name];
    messageBox.style.display="block";
  },1500);
}

/* FIREWORKS — HINDI GINALAW */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);
let particles=[];
function firework(){
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height*0.5;
  const c=`hsl(${Math.random()*360},100%,60%)`;
  for(let i=0;i<40;i++){
    particles.push({x,y,vx:Math.cos(i)*3,vy:Math.sin(i)*3,a:1,c});
  }
}
function animate(){
  ctx.fillStyle="rgba(0,0,0,.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{
    p.x+=p.vx;p.y+=p.vy;p.a-=.02;
    ctx.globalAlpha=p.a;
    ctx.fillStyle=p.c;
    ctx.beginPath();ctx.arc(p.x,p.y,2,0,Math.PI*2);ctx.fill();
    if(p.a<=0)particles.splice(i,1);
  });
  ctx.globalAlpha=1;
  requestAnimationFrame(animate);
}
setInterval(firework,1300);
animate();
</script>

</body>
</html>
